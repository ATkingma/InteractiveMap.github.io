<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marker Test</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #1a1a1a;
            color: white;
        }
        
        .map-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .map-marker {
            position: absolute;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid #ff8c00;
            background: #1a1a1a;
            cursor: pointer;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            pointer-events: auto;
            transform: translate(-50%, -50%);
        }
        
        .map-marker:hover {
            transform: translate(-50%, -50%) scale(1.2);
        }
        
        .info {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .markers-info {
            text-align: center;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>Interactive Map Marker Test</h1>
        <p>This is a test to verify markers are working correctly.</p>
    </div>
    
    <div class="map-container">
        <div class="map-overlay" id="mapOverlay">
            <!-- Markers will be placed here -->
        </div>
    </div>
    
    <div class="markers-info">
        <p>Markers should appear on the map above.</p>
        <button onclick="addTestMarker()">Add Test Marker</button>
        <button onclick="clearMarkers()">Clear All Markers</button>
    </div>
    
    <script>
        // Mock map dimensions
        const mapDimensions = {
            width: 4078,
            height: 2158
        };
        
        // Sample marker data from JSON
        const sampleMarkers = [
            {
                id: "spawn-1",
                type: "spawn-points",
                name: "Armory Main Entrance",
                x: 500,
                y: 300,
                floor: "ground",
                description: "Primary spawn point for armory raids"
            },
            {
                id: "extract-1",
                type: "extraction-points",
                name: "Main Exit",
                x: 2000,
                y: 200,
                floor: "ground",
                description: "Primary extraction point"
            },
            {
                id: "loot-1",
                type: "loot-areas",
                name: "High Value Zone",
                x: 2500,
                y: 900,
                floor: "ground",
                description: "High-tier loot concentration"
            }
        ];
        
        function createMarker(data) {
            const overlay = document.getElementById('mapOverlay');
            const marker = document.createElement('div');
            
            // Calculate position as percentage
            const xPercent = (data.x / mapDimensions.width) * 100;
            const yPercent = (data.y / mapDimensions.height) * 100;
            
            marker.className = 'map-marker';
            marker.style.left = `${xPercent}%`;
            marker.style.top = `${yPercent}%`;
            marker.title = data.name || 'Marker';
            
            marker.addEventListener('click', () => {
                alert(`Marker: ${data.name}\nType: ${data.type}\nDescription: ${data.description}`);
            });
            
            overlay.appendChild(marker);
            console.log(`Created marker: ${data.name} at ${xPercent}%, ${yPercent}%`);
        }
        
        function addTestMarker() {
            const randomData = {
                id: `test-${Date.now()}`,
                type: 'test',
                name: 'Test Marker',
                x: Math.random() * mapDimensions.width,
                y: Math.random() * mapDimensions.height,
                description: 'This is a test marker'
            };
            createMarker(randomData);
        }
        
        function clearMarkers() {
            const overlay = document.getElementById('mapOverlay');
            overlay.innerHTML = '';
        }
        
        // Initialize with sample markers
        window.onload = function() {
            console.log('Loading sample markers...');
            sampleMarkers.forEach(marker => {
                createMarker(marker);
            });
        };
    </script>
</body>
</html>
